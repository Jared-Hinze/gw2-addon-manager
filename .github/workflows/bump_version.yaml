name: Bump Current Version

on:
  workflow_dispatch:

  pull_request:
    branches-ignore: [ main ]
    types: [ opened ]

jobs:
  bump_version:
    name: Bump pyproject.toml Version

    runs-on: ubuntu-latest

    permissions:
      contents: write

    steps:
      - name: Checkout Repository
        uses: actions/checkout@eef61447b9ff4aafe5dcd4e0bbf5d482be7e7871

      - name: Install the latest version of uv
        uses: astral-sh/setup-uv@bd01e18f51369d5a26f1651c3cb451d3417e3bba

      - name: Bump Version
        run: uv version --bump minor

      - name: Commit and Push
        run: |
          git add .
          git commit -m "Version Bump"
          git push origin ${{ github.ref }} --dry-run
